import{j as u}from"./ui-BC3MnfL_.js";import{L as y,C as b,g as m,s as f,b as j}from"./index.esm-CdMBttyc.js";function w({name:s,control:o,label:r,placeholder:e="Select an option",options:a,disabled:n=!1,required:t=!1,className:c="",error:i}){return u.jsxs("div",{className:`space-y-2 ${c}`,children:[r&&u.jsx(y,{htmlFor:s,className:t?"after:content-['*'] after:ml-0.5 after:text-destructive":"",children:r}),u.jsx(b,{name:s,control:o,render:({field:l})=>u.jsxs("select",{...l,id:s,disabled:n,className:`
              w-full px-3 py-2 border border-border rounded-md 
              bg-background text-foreground
              focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent
              disabled:opacity-50 disabled:cursor-not-allowed
              ${i?"border-destructive":""}
            `,children:[u.jsx("option",{value:"",children:e}),a.map(d=>u.jsx("option",{value:d.value,children:d.label},d.value))]})}),i&&u.jsx("p",{className:"text-sm text-destructive",children:i})]})}const p=(s,o,r)=>{if(s&&"reportValidity"in s){const e=m(r,o);s.setCustomValidity(e&&e.message||""),s.reportValidity()}},v=(s,o)=>{for(const r in o.fields){const e=o.fields[r];e&&e.ref&&"reportValidity"in e.ref?p(e.ref,r,s):e&&e.refs&&e.refs.forEach(a=>p(a,r,s))}},x=(s,o)=>{o.shouldUseNativeValidation&&v(s,o);const r={};for(const e in s){const a=m(o.fields,e),n=Object.assign(s[e]||{},{ref:a&&a.ref});if(E(o.names||Object.keys(s),e)){const t=Object.assign({},m(r,e));f(t,"root",n),f(r,e,t)}else f(r,e,n)}return r},E=(s,o)=>{const r=h(o);return s.some(e=>h(e).match(`^${r}\\.\\d+`))};function h(s){return s.replace(/\]|\[/g,"")}function N(s,o){for(var r={};s.length;){var e=s[0],a=e.code,n=e.message,t=e.path.join(".");if(!r[t])if("unionErrors"in e){var c=e.unionErrors[0].errors[0];r[t]={message:c.message,type:c.code}}else r[t]={message:n,type:a};if("unionErrors"in e&&e.unionErrors.forEach(function(d){return d.errors.forEach(function(g){return s.push(g)})}),o){var i=r[t].types,l=i&&i[e.code];r[t]=j(t,o,r,a,l?[].concat(l,e.message):e.message)}s.shift()}return r}function O(s,o,r){return r===void 0&&(r={}),function(e,a,n){try{return Promise.resolve(function(t,c){try{var i=Promise.resolve(s[r.mode==="sync"?"parse":"parseAsync"](e,o)).then(function(l){return n.shouldUseNativeValidation&&v({},n),{errors:{},values:r.raw?Object.assign({},e):l}})}catch(l){return c(l)}return i&&i.then?i.then(void 0,c):i}(0,function(t){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(t))return{values:{},errors:x(N(t.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw t}))}catch(t){return Promise.reject(t)}}}export{w as S,O as s};
